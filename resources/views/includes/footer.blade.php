</main>

<footer class="main">
    <section class="newsletter mb-15 wow animate__animated animate__fadeIn">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="position-relative newsletter-inner">
                        <div class="newsletter-content">
                            <h2 class="mb-20">
                                Stay home & get your daily <br />
                                needs from our shop
                            </h2>
                            <p class="mb-45">Start You'r Daily Shopping with <span class="text-brand">Nest
                                    Mart</span></p>
                            <form class="form-subcriber d-flex">
                                <input type="email" placeholder="Your emaill address" />
                                <button class="btn" type="submit">Subscribe</button>
                            </form>
                        </div>
                        <img src="{{ asset('frontend') }}/assets/imgs/banner/banner-9.png" alt="newsletter" />
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="featured section-padding">
        <div class="container">
            <div class="row">
                <div class="col-lg-1-5 col-md-4 col-12 col-sm-6 mb-md-4 mb-xl-0">
                    <div class="banner-left-icon d-flex align-items-center wow animate__animated animate__fadeInUp"
                        data-wow-delay="0">
                        <div class="banner-icon">
                            <img src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-1.svg"
                                alt="" />
                        </div>
                        <div class="banner-text">
                            <h3 class="icon-box-title">Best prices & offers</h3>
                            <p>Orders $50 or more</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-1-5 col-md-4 col-12 col-sm-6">
                    <div class="banner-left-icon d-flex align-items-center wow animate__animated animate__fadeInUp"
                        data-wow-delay=".1s">
                        <div class="banner-icon">
                            <img src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-2.svg"
                                alt="" />
                        </div>
                        <div class="banner-text">
                            <h3 class="icon-box-title">Free delivery</h3>
                            <p>24/7 amazing services</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-1-5 col-md-4 col-12 col-sm-6">
                    <div class="banner-left-icon d-flex align-items-center wow animate__animated animate__fadeInUp"
                        data-wow-delay=".2s">
                        <div class="banner-icon">
                            <img src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-3.svg"
                                alt="" />
                        </div>
                        <div class="banner-text">
                            <h3 class="icon-box-title">Great daily deal</h3>
                            <p>When you sign up</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-1-5 col-md-4 col-12 col-sm-6">
                    <div class="banner-left-icon d-flex align-items-center wow animate__animated animate__fadeInUp"
                        data-wow-delay=".3s">
                        <div class="banner-icon">
                            <img src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-4.svg"
                                alt="" />
                        </div>
                        <div class="banner-text">
                            <h3 class="icon-box-title">Wide assortment</h3>
                            <p>Mega Discounts</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-1-5 col-md-4 col-12 col-sm-6">
                    <div class="banner-left-icon d-flex align-items-center wow animate__animated animate__fadeInUp"
                        data-wow-delay=".4s">
                        <div class="banner-icon">
                            <img src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-5.svg"
                                alt="" />
                        </div>
                        <div class="banner-text">
                            <h3 class="icon-box-title">Easy returns</h3>
                            <p>Within 30 days</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-1-5 col-md-4 col-12 col-sm-6 d-xl-none">
                    <div class="banner-left-icon d-flex align-items-center wow animate__animated animate__fadeInUp"
                        data-wow-delay=".5s">
                        <div class="banner-icon">
                            <img src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-6.svg"
                                alt="" />
                        </div>
                        <div class="banner-text">
                            <h3 class="icon-box-title">Safe delivery</h3>
                            <p>Within 30 days</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="section-padding footer-mid">
        <div class="container pt-15 pb-20">
            <div class="row">
                <div class="col">
                    <div class="widget-about font-md mb-md-3 mb-lg-3 mb-xl-0 wow animate__animated animate__fadeInUp"
                        data-wow-delay="0">
                        <div class="logo mb-30">
                            <a href="index.html" class="mb-15"><img
                                    src="{{ asset('frontend') }}/assets/imgs/theme/logo.svg"
                                    alt="logo" /></a>
                            <p class="font-lg text-heading">Awesome grocery store website template</p>
                        </div>
                        <ul class="contact-infor">
                            <li><img src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-location.svg"
                                    alt="" /><strong>Address: </strong> <span>5171 W Campbell Ave
                                    undefined Kent, Utah 53127 United States</span></li>
                            <li><img src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-contact.svg"
                                    alt="" /><strong>Call Us:</strong><span>(+91) - 540-025-124553</span>
                            </li>
                            <li><img src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-email-2.svg"
                                    alt="" /><strong>Email:</strong><span>sale@Nest.com</span></li>
                            <li><img src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-clock.svg"
                                    alt="" /><strong>Hours:</strong><span>10:00 - 18:00, Mon - Sat</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="footer-link-widget col wow animate__animated animate__fadeInUp"
                    data-wow-delay=".1s">
                    <h4 class=" widget-title">Company</h4>
                    <ul class="footer-list mb-sm-5 mb-md-0">
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Delivery Information</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms &amp; Conditions</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Support Center</a></li>
                        <li><a href="#">Careers</a></li>
                    </ul>
                </div>
                <div class="footer-link-widget col wow animate__animated animate__fadeInUp"
                    data-wow-delay=".2s">
                    <h4 class="widget-title">Account</h4>
                    <ul class="footer-list mb-sm-5 mb-md-0">
                        <li><a href="#">Sign In</a></li>
                        <li><a href="#">View Cart</a></li>
                        <li><a href="#">My Wishlist</a></li>
                        <li><a href="#">Track My Order</a></li>
                        <li><a href="#">Help Ticket</a></li>
                        <li><a href="#">Shipping Details</a></li>
                        <li><a href="#">Compare products</a></li>
                    </ul>
                </div>
                <div class="footer-link-widget col wow animate__animated animate__fadeInUp"
                    data-wow-delay=".3s">
                    <h4 class="widget-title">Corporate</h4>
                    <ul class="footer-list mb-sm-5 mb-md-0">


                        @php
                            use App\Models\User;
                        @endphp

                        @auth
                        <li><a href="{{route('vendor.apply',$slug = User::where('user_id', Auth::User()->user_id)->value('slug'))}}">Become a Vendor </a></li>
                        @else

                        <li><a href="{{route('login')}}">Become a Vendor </a></li>

                        @endauth


                        <li><a href="#">Affiliate Program</a></li>
                        <li><a href="#">Farm Business</a></li>
                        <li><a href="#">Farm Careers</a></li>
                        <li><a href="#">Our Suppliers</a></li>
                        <li><a href="#">Accessibility</a></li>
                        <li><a href="#">Promotions</a></li>
                    </ul>
                </div>
                <div class="footer-link-widget col wow animate__animated animate__fadeInUp"
                    data-wow-delay=".4s">
                    <h4 class="widget-title">Popular</h4>
                    <ul class="footer-list mb-sm-5 mb-md-0">
                        <li><a href="#">Milk & Flavoured Milk</a></li>
                        <li><a href="#">Butter and Margarine</a></li>
                        <li><a href="#">Eggs Substitutes</a></li>
                        <li><a href="#">Marmalades</a></li>
                        <li><a href="#">Sour Cream and Dips</a></li>
                        <li><a href="#">Tea & Kombucha</a></li>
                        <li><a href="#">Cheese</a></li>
                    </ul>
                </div>

            </div>
    </section>
    <div class="container pb-30 wow animate__animated animate__fadeInUp" data-wow-delay="0">
        <div class="row align-items-center">
            <div class="col-12 mb-30">
                <div class="footer-bottom"></div>
            </div>
            <div class="col-xl-4 col-lg-6 col-md-6">
                <p class="font-sm mb-0">&copy; 2022, <strong class="text-brand">Nest</strong> - HTML Ecommerce
                    Template <br />All rights reserved</p>
            </div>
            <div class="col-xl-4 col-lg-6 text-center d-none d-xl-block">

                <div class="hotline d-lg-inline-flex">
                    <img src="{{ asset('frontend') }}/assets/imgs/theme/icons/phone-call.svg"
                        alt="hotline" />
                    <p>1900 - 8888<span>24/7 Support Center</span></p>
                </div>
            </div>
            <div class="col-xl-4 col-lg-6 col-md-6 text-end d-none d-md-block">
                <div class="mobile-social-icon">
                    <h6>Follow Us</h6>
                    <a href="#"><img
                            src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-facebook-white.svg"
                            alt="" /></a>
                    <a href="#"><img
                            src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-twitter-white.svg"
                            alt="" /></a>
                    <a href="#"><img
                            src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-instagram-white.svg"
                            alt="" /></a>
                    <a href="#"><img
                            src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-pinterest-white.svg"
                            alt="" /></a>
                    <a href="#"><img
                            src="{{ asset('frontend') }}/assets/imgs/theme/icons/icon-youtube-white.svg"
                            alt="" /></a>
                </div>
                <p class="font-sm">Up to 15% discount on your first subscribe</p>
            </div>
        </div>
    </div>
</footer>

<!-- Preloader Start -->
{{-- <div id="preloader-active">
    <div class="preloader d-flex align-items-center justify-content-center">
        <div class="preloader-inner position-relative">
            <div class="text-center">
                <img src="{{ asset('frontend') }}/assets/imgs/theme/loading.gif" alt="" />
            </div>
        </div>
    </div>
</div> --}}


    <!-- Vendor JS-->
    <script src="{{ asset('frontend') }}/assets/js/vendor/modernizr-3.6.0.min.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/vendor/jquery-3.6.0.min.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/vendor/jquery-migrate-3.3.0.min.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/vendor/bootstrap.bundle.min.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/slick.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/jquery.syotimer.min.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/waypoints.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/wow.js"></script>
    <script src="{{ asset('frontend') }}assets/js/plugins/jquery-ui.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/perfect-scrollbar.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/magnific-popup.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/select2.min.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/counterup.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/jquery.countdown.min.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/images-loaded.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/isotope.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/scrollup.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/jquery.vticker-min.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/jquery.theia.sticky.js"></script>
    <script src="{{ asset('frontend') }}/assets/js/plugins/jquery.elevatezoom.js"></script>
    <!-- Template  JS -->
    <script src="{{ asset('frontend') }}/assets/js/main.js?v=5.3"></script>
    <script src="{{ asset('frontend') }}/assets/js/shop.js?v=5.3"></script>

    <script>
          import Swal from 'sweetalert2';
        $(function() {
            $(".knob").knob();
        });
    </script>

     {{-- toaster cnd  --}}
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

     <script>
        @if(Session::has('message'))
        var type = "{{ Session::get('alert-type','info') }}"
        switch(type){
           case 'info':
           toastr.info(" {{ Session::get('message') }} ");
           break;

           case 'success':
           toastr.success(" {{ Session::get('message') }} ");
           break;

           case 'warning':
           toastr.warning(" {{ Session::get('message') }} ");
           break;

           case 'error':
           toastr.error(" {{ Session::get('message') }} ");
           break;
        }
        @endif
       </script>

        {{-- for sub category load  --}}
    <script>
        $(document).ready(function() {

            $('#category_id').on('change', function() {

                $category_id = $(this).val();
                if ($category_id) {
                    $.ajax({
                        type: "GET",
                        url: "{{ url('/find/subcategory') }}/" + $category_id,
                        // data: $category_id,
                        dataType: "json",
                        success: function(data) {
                            $inputProductSubcategory = $('#sub_category_id').html('');
                            $('#sub_category_id').empty();
                            $.each(data, function(indexInArray, valueOfElement) {
                                $inputProductSubcategory.append('<option value = "' +
                                    valueOfElement.sub_category_id + '">' +
                                    valueOfElement.sub_category_name + '</option>');
                                // console.log(valueOfElement.sub_category_id);
                            });
                        }
                    });
                }

            });

        });
    </script>

    {{-- product quick view  --}}
    <script>
        function productView(id) {

            $.ajax({
                type: "GET",
                url: "{{url('/product/quick/view')}}/"+id,
                dataType: "json",
                success: function (data) {
                    // basic data
                    $('#product_name').html(data.product.product_name);

                    if(data.product.vendor_info == null){

                        $('#vendor_shop_name').html(" ");
                    }else{
                        $('#vendor_shop_name').html(data.product.vendor_info.vendor_shop_name);

                    }
                    if(data.product.vendor_info == null){

                        $('#vendor_shop_name').html(" ");
                    }else{
                        $('#vendor_shop_name').html(data.product.vendor_info.vendor_shop_name);

                    }


                    if(data.product.brand_info == null){

                        $('#brand').html(" ");
                    }else{
                        $('#brand').html(data.product.brand_info.brand_name);

                    }

                    $('#product_code').html(data.product.product_code);
                    $('#product_quantity_type').html(data.product.product_quantity_type);
                    $('#category').html(data.product.category_info.category_name);
                    $('#product_id').html(data.product.product_id);
                    $('#quantity').val();
                    // pricing
                    if (data.product.product_discount_price == null) {
                        $('#discount').text('');
                        $('#product_descount_price').text(data.product.product_sel_price);
                    } else {

                        $price = data.product.product_sel_price - data.product.product_discount_price;
                        $discount = Math.round((data.product.product_discount_price / data.product.product_sel_price) * 100);

                        $('#product_descount_price').text($price);
                        $('#discount').text($discount + ' % off');
                        $('#product_sel_price').text(data.product.product_sel_price);
                    }

                    // size
                    $('select[name = "size"]').empty();
                    $.each(data.product_size, function (indexInArray, valueOfElement) {
                        $('select[name = "size"]').append('<option value = "'+valueOfElement+'">'+valueOfElement+'</option>');
                        if (data.product_size == "") {
                            $('#product_size_area').hide();
                        } else {
                            $('#product_size_area').show();
                        }
                    });


                    // color
                    $('select[name = "color"]').empty();
                    $.each(data.product_color, function (indexInArray, valueOfElement) {
                        $('select[name = "color"]').append('<option value = "'+valueOfElement+'">'+valueOfElement+'</option>');
                        if (data.product_color == "") {
                            $('#product_color_area').hide();
                        } else {
                            $('#product_color_area').show();
                        }
                    });

                    // images
                    // $.each(data.product_multi_img, function (indexInArray, valueOfElement) {
                    //     $('#product-image-slider').append('<figure class="border-radius-10">
                    //                 <img src="{{asset("uploads/product/multi_image/".' +valueOfElement.product_multi_image+ ')}}" alt="product image" />
                    //             </figure>');
                    // });
                }
            });
         }



         // product add to cart start

         function addToCart(){

            $.ajaxSetup({
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                }
            });

            var product_name = $('#product_name').text();
            var product_id = $('#product_id').text();
            var product_color = $('#product_color option:selected').text();
            var product_size = $('#product_size option:selected').text();
            var product_quantity = $('#quantity').val();
            var product_descount_price = $('#product_descount_price').text();


            $.ajax({
                type: "POST",
                url: "{{url('/product/add/to/cart')}}/"+product_id,
                data: {
                    product_name:product_name, product_color:product_color, product_size:product_size, product_quantity:product_quantity, product_descount_price:product_descount_price
                },
                dataType: "json",

                // for preloader data featching before
                // beforeSend:
                success: function (data) {
                    $('#close_modal').click();
                    $('#quantity').val(1);
                    addToMiniCart()
                    // window.location.reload();

                    Swal.fire({
                    position: "top-end",
                    icon: "success",
                    toast: true,
                    title: "Successfully added on your cart",
                    showConfirmButton: false,
                    timer: 1500
                    });


                },
                // completed:
            });
        }

        // product add to cart end


        // add to minicart start

        function addToMiniCart(){
            $.ajax({
                type: "GET",
                url: "/add/to/mini/cart",
                dataType: "json",
                success: function (response) {

                    var miniCart = " ";
                    $.each(response.carts, function (key, value) {

                        miniCart += `<li>
                                    <div class="shopping-cart-img">
                                        <a href="shop-product-right.html"><img alt="Nest"
                                                src="/uploads/product/${value.attributes.image}"></a>
                                    </div>
                                    <div class="shopping-cart-title">
                                        <h4><a href="shop-product-right.html">${value.name}</a></h4>
                                        <h4><span>${value.quantity} × </span>${value.price}</h4>
                                    </div>
                                    <div class="shopping-cart-delete">

                                        <a type="button" onclick="removeCartFromMiniCart(${value.id})"><i class="fi-rs-cross-small"></i></a>
                                    </div>
                                </li>
                        `
                    });
                    $("#miniCart").html(miniCart);
                    $("#miniSubtotal").text(response.cartSubTotal);
                    $("#miniCount").text(response.cartQuantity)


                }
            });
        }

        addToMiniCart()
        // add to minicart end


        // remove cart form mini cart
        function removeCartFromMiniCart(cart_id){

            $.ajax({
                type: "get",
                url: "{{url('/remove/mini/cart/item')}}/"+cart_id,
                dataType: "json",
                success: function (response) {

                    addToMiniCart();
                    myCarts();

                    Swal.fire({
                    position: "top-end",
                    toast: true,
                    icon: "success",
                    title: "Successfully Remove From your cart",
                    showConfirmButton: false,
                    timer: 1500
                    });


                }
            });
        }

        // add to mini cart from product details

        function addToCartFromDetailsPage() {
            $.ajaxSetup({
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                }
            });

            var product_name = $('#dproduct_name').text();
            var product_id = $('#dproduct_id').val();
            var product_color = $('#dproduct_color option:selected').text();
            var product_size = $('#dproduct_size option:selected').text();
            var product_quantity = $('#dquantity').val();
            var product_descount_price = $('#dproduct_descount_price').text();

            $.ajax({
                type: "POST",
                url: "{{url('/product/add/to/cart/from/details/page')}}/"+product_id,
                data: {
                    product_name:product_name, product_color:product_color, product_size:product_size, product_quantity:product_quantity, product_descount_price:product_descount_price
                },
                dataType: "json",
                success: function (data) {
                    addToMiniCart()
                    // window.location.reload();

                    Swal.fire({
                    position: "top-end",
                    icon: "success",
                    toast: true,
                    title: "Successfully added on your cart",
                    showConfirmButton: false,
                    timer: 1500
                    });


                }
            });
        }
        // end function


        // add to wishlist start

        function addToWishlist(product_id){

            $.ajax({
                type: "get",
                url: "{{url('/product/add/to/wishlist')}}/"+product_id,
                dataType: "json",

                success: function (response) {

                    if($.isEmptyObject(response.error)){

                        Swal.fire({
                        position: "top-end",
                        icon: "success",

                        toast: true,
                        title: response.success,
                        showConfirmButton: false,
                        timer: 1500
                        });
                    }else{

                        Swal.fire({
                        position: "top-end",
                        icon: "error",

                        toast: true,
                        title: response.error,
                        showConfirmButton: false,
                        timer: 2500
                        });
                    }

                }
            });

        }

        // add to wishlist end


        // count wishlist start

        function countWishlist(){

            $.ajax({
                type: "get",
                url: "/count/wishlist",
                dataType: "json",
                success: function (response) {
                    $('#wishlistCount').text(response.wishlistCount);
                }
            });
        }
        countWishlist();
        // count wishlist end



         // add to compare start

         function addToCompare(product_id){

            $.ajax({
                type: "get",
                url: "{{url('/product/add/to/compare')}}/"+product_id,
                dataType: "json",

                success: function (response) {

                    if($.isEmptyObject(response.error)){

                        Swal.fire({
                        position: "top-end",
                        icon: "success",
                        type: 'success',
                        toast: true,
                        title: response.success,
                        showConfirmButton: false,
                        timer: 1500
                        });
                    }else{

                        Swal.fire({
                        position: "top-end",
                        icon: "error",
                        type: 'error',
                        toast: true,
                        title: response.error,
                        showConfirmButton: false,
                        timer: 2500
                        });
                    }

                }
            });

            }

        // add to compare end

        // count compare start

        function countCompare(){

            $.ajax({
                type: "get",
                url: "/count/compare",
                dataType: "json",
                success: function (response) {
                    $('#compareCount').text(response.compareCount);
                }
            });
        }
            countCompare();
            // count compare end

        // load to cart page start

        function myCarts(){
            $.ajax({
                type: "GET",
                url: "/my/carts",
                dataType: "json",
                success: function (response) {
                    $('#totalCartItem').text(response.cartQuantity);
                    $('#cartTotal').text(response.cartSubTotal);
                    $('#grandTotal').text(response.cartSubTotal);
                    var myCarts = " ";
                    $.each(response.myCarts, function (key, value) {

                        myCarts += `
                        <tr class="pt-30">
                                <td class="custome-checkbox pl-30">
                                    {{-- <input class="form-check-input" type="checkbox" name="checkbox" id="exampleCheckbox1" value="">
                                    <label class="form-check-label" for="exampleCheckbox1"></label> --}}
                                </td>
                                <td class="image product-thumbnail pt-40"><img src="/uploads/product/${value.attributes.image}" alt="#"></td>
                                <td class="product-des product-name">
                                    <h6 class="mb-5"><a class="product-name mb-10 text-heading" href="shop-product-right.html">${value.name}</a></h6>
                                    <div class="product-rate-cover">
                                        <div class="product-rate d-inline-block">
                                            <div class="product-rating" style="width:90%">
                                            </div>
                                        </div>
                                        <span class="font-small ml-5 text-muted"> (4.0)</span>
                                    </div>
                                </td>
                                <td class="price" data-title="Price">
                                    <h4 class="text-body">$${value.price} </h4>
                                </td>
                                <td class="price" data-title="Price">
                                    ${value.attributes.size == null ? `<h5 class="text-body"> N/A </h5>` :
                                    `<h5 class="text-body">${value.attributes.size}</h5>`}
                                </td>
                                <td class="price" data-title="Price">

                                    ${value.attributes.color == null ? `<h5 class="text-body"> N/A </h5>` :
                                    `<h5 class="text-body">${value.attributes.color}</h5>`}
                                </td>
                                <td class="text-center detail-info" data-title="Stock">
                                    <div class="detail-extralink mr-15">

                                        <div class="detail-qty border radius">
                                            <a onclick="decCartQty(${value.id})" class="qty-down"><i class="fi-rs-angle-small-down"></i></a>
                                            <input type="text" name="quantity" class="qty-val" value="${value.quantity}" min="1">
                                            <a onclick="incCartQty(${value.id})" class="qty-up"><i class="fi-rs-angle-small-up"></i></a>
                                        </div>
                                    </div>
                                </td>

                                <td class="price" data-title="Price">
                                    <h4 class="text-brand">$${(value.quantity * value.price)} </h4>
                                </td>
                                <td class="action text-center" data-title="Remove"><a type="button" onclick="removeCart(${value.id})" class="text-body"><i class="fi-rs-trash"></i></a></td>
                            </tr>
                        `
                    });

                    $("#myCarts").html(myCarts);
                }
            });
        }

        myCarts();
        // load to cart page end

         // remove cart form cart page
         function removeCart(cart_id){


            $.ajax({
                type: "get",
                url: "{{url('/remove/cart/item')}}/"+cart_id,
                dataType: "json",
                success: function (response) {

                    addToMiniCart();
                    myCarts();

                    Swal.fire({
                    position: "top-end",
                    toast: true,
                    icon: "success",
                    title: "Successfully Remove From your cart",
                    showConfirmButton: false,
                    timer: 1500
                    });


                }
            });
        }


         // dec cart quantity
         function decCartQty(cart_id){


            $.ajax({
                type: "get",
                url: "{{url('/dec/cart/qty')}}/"+cart_id,
                dataType: "json",
                // beforeSend: function () {
                //     $("#preloader-active").css("display", "block");
                // },
                success: function (response) {

                    addToMiniCart();
                    myCarts();

                    Swal.fire({
                    position: "top-end",
                    toast: true,
                    icon: "success",
                    title: "Successfully Update Your Cart Quantity",
                    showConfirmButton: false,
                    timer: 1500
                    });
                }
                // complete: function() {
                //     $("#preloader-active").css("display", "none");
                // }
            });
        }


         // inc cart quantity
         function incCartQty(cart_id){


            $.ajax({
                type: "get",
                url: "{{url('/inc/cart/qty')}}/"+cart_id,
                dataType: "json",
                // beforeSend: function () {
                //     $("#preloader-active").css("display", "block");
                // },
                success: function (response) {

                    addToMiniCart();
                    myCarts();

                    Swal.fire({
                    position: "top-end",
                    toast: true,
                    icon: "success",
                    title: "Successfully Update Your Cart Quantity",
                    showConfirmButton: false,
                    timer: 1500
                    });


                },
                // complete: function() {
                //     $("#preloader-active").css("display", "none");
                // }
            });
        }

        // apply coupon
        function applyCoupon(){

            var coupon_code = $('#coupon_code').val();
            if (!coupon_code) {
                alert('please apply a coupon code');
            }else{
                var subtotal = $('#cartTotal').text();

                $.ajax({
                    type: "get",
                    url: "/apply/coupon/"+coupon_code,
                    data: {
                        subtotal:subtotal,
                    },
                    dataType: "json",
                    success: function (response) {

                        if($.isEmptyObject(response.unmatchError)){

                            if($.isEmptyObject(response.validityError)){

                                $('#cartTotal').text(response.price);
                                $('#grandTotal').text(response.price);
                                $('#couponCode').text(response.coupon_code);
                                $('#couponDescount').text(response.coupon_discount);

                                $('#couponApplyInput').hide();

                                Swal.fire({
                                position: "top-end",
                                icon: "success",
                                type: 'success',
                                toast: true,
                                title: response.success,
                                showConfirmButton: false,
                                timer: 1500
                                });
                            }else{

                                Swal.fire({
                                position: "top-end",
                                icon: "error",
                                type: 'error',
                                toast: true,
                                title: response.validityError,
                                showConfirmButton: false,
                                timer: 2500
                                });
                            }

                        }else{

                            Swal.fire({
                            position: "top-end",
                            icon: "error",
                            type: 'error',
                            toast: true,
                            title: response.unmatchError,
                            showConfirmButton: false,
                            timer: 2500
                            });
                        }
                    }
                });

            }
        }

    </script>
</body>

</html>

